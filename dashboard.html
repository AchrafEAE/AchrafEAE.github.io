<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <meta name="description" content="Dit is mijn Dashboardpagina, hier vind je voortgang van mijn studie.">
  <link rel="stylesheet" href="assets/styles.css">
  <link rel="icon" type="image/x-icon" href="fotos-en-pdf/vuurwerk.svg">
</head>

<body>
  <header>
    <!-- De Navigation bar -->
    <nav>
      <div class="nav-content">
        <ul class="navigation-bar">
          <li><a class="navigation-links" href="index.html"><strong>Startpagina</strong></a></li>
          <li><a class="navigation-links" href="profile.html"><strong>Profiel</strong></a></li>
          <li><a class="navigation-links" id="dashboard" href="dashboard.html"><strong>Dashboard</strong></a></li>
          <li><a class="navigation-links" href="blog.html"><strong>Blog</strong></a></li>
          <li><a class="navigation-links" href="faq.html"><strong>FAQ</strong></a></li>
        </ul>
        <!-- HZ Logo met link naar de HZ-website -->
        <div class="hzlogo">
          <a class="hzlogo" href="https://hz.nl/" target="_blank"><img src="fotos-en-pdf/hz-logo.png" alt="hz-logo"></a>
        </div>
      </div>
    </nav>
  </header>
  <!-- Main page content -->
  <main>
    <h1>Dashboard</h1>
    <!-- Html table dat alle vakken en examens bevat van het eerste jaar -->
    <table class="schema">
      <tr style="background-color: white;">
        <th>Quarter</th>
        <th>Course</th>
        <th>Examens</th>
        <th>Behaalbare Studiepunten</th>
        <th>Behaalde Studiepunten</th>
      </tr>
      <tr class="completed">
        <td rowspan="3">Blok 1</td>
        <td>Program- &amp; Career Orientation</td>
        <td>Portfolio website presentation</td>
        <td>2.5 EC</td>
        <td><input type="text" id="pco"></td>
      </tr>
      <tr class="completed">
        <td>Computer Science Basics</td>
        <td>Written Exam</td>
        <td>5 EC</td>
        <td><input type="text" id="cs"></td>
      </tr>
      <tr class="completed">
        <td>Programming Basics</td>
        <td>Practical Assignment</td>
        <td>5 EC</td>
        <td><input type="text" id="pb"></td>
      </tr>
      <tr class="bezig">
        <td rowspan="2">Blok 2</td>
        <td rowspan="2">Object Oriented Programming</td>
        <td>Presentation</td>
        <td>5 EC</td>
        <td><input type="text" id="OOP"></td>
      </tr>
      <tr class="bezig">
        <td>Written Exam</td>
        <td>5 EC</td>
        <td><input type="text" id="WE"></td>
      </tr>
      <tr class="niet-gestart">
        <td rowspan="4">Blok 3</td>
        <td>Business IT Consultancy Basics</td>
        <td>Individual Assignment</td>
        <td>2.5 EC</td>
        <td><input type="text" id="BICB"></td>
      </tr>
      <tr class="niet-gestart">
        <td rowspan="3">Framework Project 1</td>
        <td>Written Exams</td>
        <td>5 EC</td>
        <td><input type="text" id="FP1"></td>
      </tr>
      <tr class="niet-gestart">
        <td>Group Presentation</td>
        <td>2.5 EC</td>
        <td><input type="text" id="GP"></td>
      </tr>
      <tr class="niet-gestart">
        <td>Group Portfolio</td>
        <td>2.5 EC</td>
        <td><input type="text" id="GPo"></td>
      </tr>
      <tr class="niet-gestart">
        <td rowspan="3">Blok 4</td>
        <td rowspan="3">Framework Project 2</td>
        <td>Presentation</td>
        <td>5 EC</td>
        <td><input type="text" id="FP2"></td>
      </tr>
      <tr class="niet-gestart">
        <td>Portfolio</td>
        <td>2.5 EC</td>
        <td><input type="text" id="Po"></td>
      </tr>
      <tr class="niet-gestart">
        <td>IT Development Portfolio</td>
        <td>2.5 EC</td>
        <td><input type="text" id="IDPo"></td>
      </tr>
      <tr class="bezig">
        <td rowspan="2">Heel het jaar</td>
        <td>IT Personality</td>
        <td>Portfolio's</td>
        <td>2.5 EC</td>
        <td><input type="text" id="IP"></td>
      </tr>
      <tr class="bezig">
        <td>Personal Professional Development: Exploration</td>
        <td>Portfolio</td>
        <td>12.5 EC</td>
        <td><input type="text" id="PPD"></td>
      </tr>
      <tr id="totaal-box" style="background-color: white;">
        <td><strong>Totaal</strong></td>
        <td>---</td>
        <td>---</td>
        <td>60 EC</td>
        <td id="total"></td>
      </tr>
    </table>
    <!-- Progress bar -->
    <div class="progress-bar-container">
      <div id="progressBar" class="progress-bar"></div>
      <div id="progressText" class="progress-text"></div>
    </div>
  </main>
</body>
<!-- Kleur INDEX table -->
<div class="color-container">
  <ul>
    <li><span class="color-box" style="background-color: yellow;"></span> In Progressie</li>
    <li><span class="color-box" style="background-color: lightgray;"></span> Nog niet gestart</li>
    <li><span class="color-box" style="background-color: lightgreen;"></span> Afgerond</li>
  </ul>
</div>
<footer>
  <!-- Aside menu -->
  <div class="footer-container">
    <ul class="footer-ul">
      <li class="footer-text"><a class="footer-links" target="_blank"
          href="https://hz.nl/uploads/documents/1.4-Over-de-HZ/1.4.3.-Regelingen-en-documenten/OERS/2023-2024/Juli/CER-HZ-Bachelor-full-time-2023-2024-DEF-version-20240412.pdf">Course
          and Examination Regulations</a></li>
      <li class="footer-text"><a class="footer-links" target="_blank" href="fotos-en-pdf/all courses.pdf">Implementation
          Regulations HBO-ICT</a></li>
      <li class="footer-text"><a class="footer-links" target="_blank" href="https://learn.hz.nl/"> HZ Learn</a></li>
      <li class="footer-text"><a class="footer-links" target="_blank"
          href="https://hz.osiris-student.nl/voortgang">Studievoortgang</a></li>
      <li class="footer-text"><a class="footer-links" target="_blank" href="https://github.com/HZ-HBO-ICT">HZ Github</a>
      </li>
    </ul>
  </div>
</footer>
<script>
  /**
* Functie om de ingevoerde inputs locaal op te slaan
 */
  function saveInputs() {
    const inputs = document.querySelectorAll('input[type="text"]');
    inputs.forEach(input => {
      localStorage.setItem(input.id, input.value);
    });
  }
  /**
   * Functie om de locaal ingevoerde inputs te laden
    */
  function loadInputs() {
    const inputs = document.querySelectorAll('input[type="text"]');
    inputs.forEach(input => {
      const savedValue = localStorage.getItem(input.id);
      if (savedValue !== null) {
        input.value = savedValue;
      }
    });
  }
  /**
 * Functie om de totaal behaalde EC's op te tellen en weer te geven.
  */
  function calculateTotal() {
    const inputs = document.querySelectorAll('input[type="text"]');
    let total = 0;
    inputs.forEach(input => {
      const value = input.value.trim();
      if (value) {
        const ec = Number(value.replace(' EC', ''));
        if (!isNaN(ec)) {
          total += ec;
        }
      }
    });
    // Het berekende totaal aantal studiepunten wordt weergegeven onder in de tabel
    const totalText = document.getElementById('total');
    totalText.textContent = `${total} EC`;

    // De progressbar neemt het percentage behaalde studiepunten en maakt dit de width van de bar.
    const progressBar = document.getElementById('progressBar');
    const percentage = (total / 60) * 100;
    progressBar.style.width = `${percentage}%`;
    // Korte versie van een if-statement (Conditional (Ternary) Operator)
    progressBar.style.backgroundColor = total >= 45 ? 'green' : 'red';
    progressText.textContent = `${total} / 60 EC`;
  }
  // De functies calculateTotal en saveInputs worden geactiveerd als de gebruiker iets input.
  document.querySelectorAll('input[type="text"]').forEach(input => {
    input.addEventListener('input', function () {
      calculateTotal();
      saveInputs();
    });
  });
  // Hier wordt het totaal van de inputs berekent en geladen.
  // Zo zie je gelijk het totaal na het laden van de pagina
  loadInputs();
  calculateTotal();
</script>

</html>